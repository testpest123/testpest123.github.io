/* jQuery Photo Collage Plugin for WYSIWYG Web Builder 12 - Copyright Pablo Software solutions 2017 - http://www.wysiwygwebbuilder.com */
(function(e){function t(d,e,b){var g=b.matrix.split(","),h=Math.sqrt(g.length),f=d.outerWidth(),h=(f-(h-1)*b.padding)/h;d.find(".thumbnails").width(f).height(f);d=d.find(".thumbnail");for(f=0;f<d.length;f++){var a={left:0,top:0,width:0,height:0};a:for(var c=g,q=f,k=a,l=Math.sqrt(c.length),m=0,n=0;n<l;n++)for(var p=0;p<l;p++){var r=parseInt(c[n*l+p]);if(0!=r){if(m==q){k.left=p;k.top=n;k.width=r;k.height=r;break a}m++}}0!=a.width&&(c=d.eq(f),q=a.left*b.padding,k=a.top*b.padding,l=a.width*b.padding-
b.padding,m=a.height*b.padding-b.padding,a.left*=h,a.top*=h,a.width*=h,a.height*=h,a.width+=l,a.height+=m,a.left+=q,a.top+=k,c.css("left",a.left+"px"),c.css("top",a.top+"px"),c.css("width",a.width+"px"),c.css("height",a.height+"px"),e&&("fade"==b.effect?c.fadeTo(b.duration,1):"randomfade"==b.effect?(delay=900*Math.random()+100,c.delay(delay).fadeTo(b.duration,1)):"slide"==b.effect||"blind"==b.effect||"drop"==b.effect?(dir=Math.floor(3*Math.random()),delay=Math.floor(900*Math.random()+100),c.hide(),
c.css("opacity","1"),c.delay(delay).show(b.effect,{direction:["left","right","up","down"][dir]},b.duration)):(delay=Math.floor(900*Math.random()+100),c.hide(),c.css("opacity","1"),c.delay(delay).show(b.effect,b.duration))))}}e.fn.photocollage=function(d){var g=e.extend({matrix:"2,0,1,0,0,1,1,1,1",padding:2,effect:"fade",duration:500},d);return this.each(function(){e.photocollage(e(this),g)})};e.photocollage=function(d,g){e(window).resize(function(){t(d,!1,g)});t(d,!0,g)}})(jQuery);